@{
    ViewBag.Title = "Create Fantasy Team";
    var players = ViewBag.Players as List<CRICXI.Models.Player>;
}
<h2>Select 11 Players</h2>

@if (ViewBag.Error != null)
{
    <div class="alert alert-danger">@ViewBag.Error</div>
}

<form method="post">
    <input type="hidden" name="matchId" value="@ViewBag.MatchId" />
    <input type="hidden" name="contestId" value="@ViewBag.ContestId" />

    <div class="row">
        @foreach (var p in players)
        {
            <div class="col-md-4">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="selectedPlayers" value="@p.Id" id="p_@p.Id" />
                    <label class="form-check-label" for="p_@p.Id">@p.Name (@p.Role)</label>
                </div>
            </div>
        }
    </div>

    <hr />
    <div class="form-group">
        <label>Select Captain:</label>
        <select class="form-control" name="captainId">
            @foreach (var p in players)
            {
                <option value="@p.Id">@p.Name</option>
            }
        </select>
    </div>

    <div class="form-group">
        <label>Select Vice-Captain:</label>
        <select class="form-control" name="viceCaptainId">
            @foreach (var p in players)
            {
                <option value="@p.Id">@p.Name</option>
            }
        </select>
    </div>

    <button type="submit" class="btn btn-success mt-3">Submit Team</button>
</form>
